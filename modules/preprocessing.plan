<?xml version="1.0" encoding="UTF-8"?>

<alvisnlp-plan id="preprocessing">


<!-- parameters -->
<param name="parFile">
  <alias module="tt" param="parFile"/>
</param>

<param name="treeTaggerExecutable">
  <alias module="tt" param="treeTaggerExecutable"/>
</param>


<!--
///////////////////////////////////////////////////////////////////////////////////////
//
// I. Tokenize
//
///////////////////////////////////////////////////////////////////////////////////////
-->

<!-- load segmentation plan -->
<import>res://segmentation.plan</import>


<!-- remove foreign words with label <FW> as they are not recognised by french tree-tagger-->
<remove-fw class="Action">
  <target>documents.sections.layer:words[@pos]</target>
  <action>set:remove-feature:pos</action>
  <setFeatures/>
</remove-fw>

<!-- <add-punctuation class="Action">
  <target>documents.sections.layer:html[@tag ^= "H"]</target>
  <action>set:feat:copy(str:join(nav:features:form, @value ^ "."))</action>
  <setFeatures/>
</add-punctuation> -->

<!--
///////////////////////////////////////////////////////////////////////////////////////
//
// II. Lemmatize
//
///////////////////////////////////////////////////////////////////////////////////////
-->


<!-- load treetagger -->
<tt class="TreeTagger">
  <parFile>/Users/belka/Documents/work/inrae/outils/tree-tagger/lib/french.par</parFile>
  <treeTaggerExecutable>/Users/belka/Documents/work/inrae/outils/tree-tagger/bin/tree-tagger</treeTaggerExecutable>
  <noUnknownLemma/>
  <inputCharset>UTF-8</inputCharset>
  <outputCharset>UTF-8</outputCharset>
</tt>


<!--
///////////////////////////////////////////////////////////////////////////////////////
//
// III. Correct tags
//
///////////////////////////////////////////////////////////////////////////////////////
-->


<!-- correct treetagger pos tag -->
<correct-kaki class="Action">
  <target>documents.sections.layer:words[@form == "kaki"]</target>
  <action>set:feat:pos("NOM")</action>
  <setFeatures/>
</correct-kaki>



</alvisnlp-plan>
