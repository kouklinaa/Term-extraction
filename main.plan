<?xml version="1.0" encoding="UTF-8"?>

<alvisnlp-plan id="main">


<!--
///////////////////////////////////////////////////////////////////////////////////////
//
// I. Load html corpus
//
///////////////////////////////////////////////////////////////////////////////////////
-->


<read-html href="modules/read-html.plan">

  <!-- vespa -->
  <!-- <sourcePath>resources/CorpusVespa.html</sourcePath> -->

  <!-- d2kab -->
  <!-- <sourcePath>resources/Corpus-v-12-04-21/train/</sourcePath> -->

  <!-- alea -->
  <sourcePath>resources/Corpus-v-12-04-21/test/</sourcePath>

</read-html>


<!--
///////////////////////////////////////////////////////////////////////////////////////
//
// II. Preprocess text
//
///////////////////////////////////////////////////////////////////////////////////////
-->

<preprocessing href="modules/preprocessing.plan">
  <parFile>../../work/inrae/outils/tree-tagger/lib/french.par</parFile>
  <treeTaggerExecutable>../../work/inrae/outils/tree-tagger/bin/tree-tagger</treeTaggerExecutable>
</preprocessing>


<!--
///////////////////////////////////////////////////////////////////////////////////////
//
// III. Match fcu
//
///////////////////////////////////////////////////////////////////////////////////////
-->

<project-fcu href="modules/project-fcu.plan">

  <!-- d2kab -->
  <!-- <outDirBaseline>output/d2kab</outDirBaseline>
  <outDirToMap>output/d2kab</outDirToMap> -->

  <!-- vespa -->
  <!-- <outDirBaseline>output/vespa</outDirBaseline>
  <outDirToMap>output/vespa</outDirToMap> -->

  <!-- alea -->
  <outDirBaseline>output/alea</outDirBaseline>
  <outDirToMap>output/alea</outDirToMap>

</project-fcu>


<!--
///////////////////////////////////////////////////////////////////////////////////////
//
// IV. Match phenological stages
//
///////////////////////////////////////////////////////////////////////////////////////
-->

<project-stages href="modules/project-stages.plan">

  <!-- d2kab -->
  <!-- <outDir>output/d2kab</outDir> -->

  <!-- vespa -->
  <!-- <outDir>output/vespa</outDir> -->

  <!-- alea -->
  <outDir>output/alea</outDir>

</project-stages>


<!--
///////////////////////////////////////////////////////////////////////////////////////
//
// V. Find conjunctions
//
///////////////////////////////////////////////////////////////////////////////////////
-->


<conj-patterns href="modules/find-conj-patterns.plan">

  <!-- d2kab -->
  <!-- <outDir>output/d2kab</outDir> -->

  <!-- vespa -->
  <!-- <outDir>output/vespa</outDir> -->

  <!-- alea -->
  <outDir>output/alea</outDir>

</conj-patterns>


<!--
///////////////////////////////////////////////////////////////////////////////////////
//
// VI. Calculate scores
//
///////////////////////////////////////////////////////////////////////////////////////
-->

<bm25 href="modules/scores.plan">

  <!-- d2kab -->
  <!-- <outFile>output/d2kab/bm25.csv</outFile> -->

  <!-- vespa -->
  <!-- <outFile>output/vespa/bm25.csv</outFile> -->

  <!-- alea -->
  <outFile>output/alea/bm25.csv</outFile>

  <keywords>sections.layer:fcu</keywords>
  <scoreFunction type ="bm25" k1="1.2" b="0.75"/>

</bm25>




</alvisnlp-plan>
