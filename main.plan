<?xml version="1.0" encoding="UTF-8"?>

<alvisnlp-plan id="main">


<!--
///////////////////////////////////////////////////////////////////////////////////////
//
// I. Load html corpus
//
///////////////////////////////////////////////////////////////////////////////////////
-->


<read-html href="modules/read-html.plan">
  <!-- vespa -->
  <sourcePath>resources/CorpusVespa.html</sourcePath>
  <!-- d2kab -->
  <!-- <sourcePath>resources/Corpus-v-12-04-21/train/</sourcePath> -->
</read-html>


<!--
///////////////////////////////////////////////////////////////////////////////////////
//
// II. Preprocess text
//
///////////////////////////////////////////////////////////////////////////////////////
-->

<preprocessing href="modules/preprocessing.plan">
  <parFile>../../work/inrae/outils/tree-tagger/lib/french.par</parFile>
  <treeTaggerExecutable>../../work/inrae/outils/tree-tagger/bin/tree-tagger</treeTaggerExecutable>
</preprocessing>


<!--
///////////////////////////////////////////////////////////////////////////////////////
//
// III. Match fcu
//
///////////////////////////////////////////////////////////////////////////////////////
-->

<project-fcu href="modules/project-fcu.plan">
  <outDirBaseline>output/vespa</outDirBaseline>
  <outDirToMap>output/vespa</outDirToMap>
</project-fcu>


<!--
///////////////////////////////////////////////////////////////////////////////////////
//
// IV. Match phenological stages
//
///////////////////////////////////////////////////////////////////////////////////////
-->

<project-stages href="modules/project-stages.plan">
  <outDir>output/vespa</outDir>
</project-stages>


<!--
///////////////////////////////////////////////////////////////////////////////////////
//
// V. Find conjunctions
//
///////////////////////////////////////////////////////////////////////////////////////
-->


<conj-patterns href="modules/find-conj-patterns.plan">
  <outDir>output/vespa</outDir>
</conj-patterns>


<!--
///////////////////////////////////////////////////////////////////////////////////////
//
// VI. Calculate scores
//
///////////////////////////////////////////////////////////////////////////////////////
-->

<bm25 href="modules/scores.plan">
  <outFile>output/vespa/bm25.csv</outFile>
  <keywords>sections.layer:fcu</keywords>
  <scoreFunction type ="bm25" k1="1.2" b="0.75"/>
</bm25>




</alvisnlp-plan>
